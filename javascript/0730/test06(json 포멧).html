<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>json convert</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    'use strict';
    let json = JSON.stringify(true);
    console.log(json);
    console.log('');
    
    json = JSON.stringify(1234);
    console.log(json);
    console.log('');

    json = JSON.stringify(['사과','배','바나나',true,1234]);
    console.log(json);
    console.log('');

    const member = {
      name:'홍길동',
      age:25,
      gender:true,
      address:'청주시 흥덕구',
      birthday: new Date(),
      atom: function() {
        console.log('성명: ',member.name);
      }
    }
    console.log('member객체: ',member);
    console.log('member객체의 atom: ',member.atom);
    console.log('member객체의 atom안의 함수 호출: ',member.atom());
    console.log('');
    
    let jsonStr = JSON.stringify(member);
    console.log(jsonStr);

    jsonStr = JSON.stringify(member,(key, value) => {
      return key === 'name' ? '사용자' : value;
    });
    console.log(jsonStr);
    console.log('');

    // JSON 형식을 JavaScript 형식으로 변환(문자열 형식이 아니면 JSON.parse를 쓸 수 없다.)
    let text = '{'+
                '"회원정보":['+
                  '{"성":"홍","이름":"길동"},'+
                  '{"성":"김","이름":"말숙"},'+
                  '{"성":"이","이름":"기자"},'+
                  '{"성":"소","이름":"나무"}'+
                ']'+
              '}';
    let jsObj = JSON.parse(text);
    console.log(jsObj);
    console.log(jsObj.회원정보[0]);
    console.log(jsObj.회원정보[0].이름);
    </script>
</head>
<body>
  <p><br/></p>
  <div class="container">
    <h2>json 포멧으로 변경하는 연습.</h2>
    <h3>웹을 통한 자료의 전달: XML, JSON</h3>
    <pre style="margin-left: -60px;">
      JSON: JavaScript Object Notation
      => 모바일(웹)에서 서버와 클라이언트 간의 데이터 전송방식에서 사용.
      특징: 프로그램의 종류나 플랫폼에 관계없이 사용 가능.
      ex: Java, C, C++, C#, PHP, 코틀린, Go언어 등.
      처리방식은 Object 를 String 형식으로 직렬화(serialize) 처리를 해서 전송.
      따라서 다시 사용하고자 한다면 JSON 문서 형식을 JavaScript Object 형식으로 변환하여 사용해야 한다.
      1.데이터형식: "key":"value"
      2.JSON 객체는 중괄호{}로 둘러싼다.
      3.JSON 배열은 대괄호[]로 둘러싼다.
        {
          "회원정보":[
            {"성":"홍","이름":"길동"},
            {"성":"김","이름":"말숙"},
            {"성":"이","이름":"기자"},
            {"성":"소","이름":"나무"}
          ]
        }
      4.JSON 텍스를 JavaScript 객체로 변환하는 방식: stringify(), parse()
        (1).JSON.stringify(): JavaScript 객체를 JSON 형식의 문자열로 변경.
        (2).JSON.parse(): JSON 형식의 문자열을 JavaScript Object 객체로 변경.
    </pre>
  </div>
  
  <script>
  </script>
</body>
</html>