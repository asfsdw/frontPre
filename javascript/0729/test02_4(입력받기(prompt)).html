<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>callback function</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    'use strict';

    function atom(answer, printYes, printNo) {
      if(answer.toUpperCase() == 'Y') printYes();
      else printNo();
    }
    let printYes = () => console.log("작업을 계속합니다.");
    let printNo = () => console.log("작업을 마칩니다.");

    let cnt = 0;

    const callBackFunction = function print() {
      cnt++;
      console.log(`${cnt}: 콜백지옥`);
      print();
    }

    function factorial(n) {
      return (n != 1) ? n * factorial(n-1) : 1;
    }

    function suFactorial(n) {
      let res = factorial(n);
      demo.innerHTML = res;
    }
    // function suFactorial() {
    //   let n = parseInt(prompt("팩토리얼을 구할 숫자를 입력하세요."));
    //   let res = factorial(n);
    //   document.getElementById("demo").innerHTML = "<b>"+n+"</b>팩토리얼 결과: "+res;
    // }
  </script>
</head>
<body>
  <p><br/></p>
  <div class="container">
    <h3>콜백함수.</h3>
    <pre>
      - 함수가 함수를 호출하는 경우.
      - 함수 호출시, 매개값을 함수로 호출하는 함수.
      - 함수 선언시, 함수를 정의해서 사용하는 함수.
      - Recursion(되부름(재귀함수)): 팩토리얼, 피보나치수열 등.
      - 피보나치수열:0,1,1,2,3,5,8,13,21...
    </pre>
  <div>
      <input type="button" value="작업진행" onclick="atom('y', printYes, printNo)" class="mt-4 btn btn-success" />
      <input type="button" value="작업중지" onclick="atom('n', printYes, printNo)" class="mt-4 btn btn-primary" />
      <input type="button" value="콜백함수" onclick="atom(callBackFunction())" class="mt-4 btn btn-info" />
      <input type="button" value="팩토리얼" onclick="alert('5팩토리얼: '+ factorial(6))" class="mt-4 btn btn-warning" />
      <input type="button" value="팩토리얼입력" onclick="suFactorial(prompt('팩토리얼을 구할 수를 입력해주세요.'))" class="mt-4 btn btn-danger">
  </div>
  <div id="demo" class="mt-4"></div>
  
  <script>
  </script>
</body>
</html>