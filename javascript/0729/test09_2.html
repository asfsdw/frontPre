<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>regularExpression</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    'use strict';
    // 아이디는 영문 대, 소문자, 숫자, 밑줄만 포함하여 3글자 이상 20글자 이하
    const regMid = /^[a-zA-Z0-9_]{3,20}$/;
    // 비밀번호는 영문 대, 소문자, 특수문자 한 글자 이상 포함
    const regPwd = /^[a-zA-Z0-9!@#$%^&*()-_=+?]+$/;
    // 닉네임은 영문 대, 소문자, 한글, 숫자, _, -를 쓸 수 있다.
    const regNickname = /^[a-zA-Z가-힣0-9-_]+$/;
    // 이름은 영문 대, 소문자, 한글만 쓸 수 있다.
    const regName = /^[a-zA-Z가-힣]+$/;
    // 이메일 형식에 맞도록 써야한다.
    const regEmail = /^[a-zA-Z0-9-_]+@[a-zA-Z.]+\.[a-zA-Z]{2,}$/;
    // url 형식에 맞도록 써야한다.
    const regHomepage = /^[a-zA-Z0-9-_]+\.[a-zA-Z0-9-_]+\.[a-zA-Z]{2,3}\/[a-zA-Z0-9-_]+$/;
    // 전화번호 형식에 맞도록 써야한다. 02-123-1234, 043-123-1234, 010-1234-1234
    const regTel = /^\d{2,3}-\d{3,4}-\d{4}$/;
    
    function fCheck() {
      if(!regMid.test(mid.value)) {
        alert("아이디를 다시입력해주세요.");
        return false;
      }
      else if(!regPwd.test(pwd.value)) {
        alert("비밀번호를 다시입력해주세요.");
        return false;
      }
      else if(rePwd.value != pwd.value) {
        alert("입력하신 비밀번호가 다릅니다.");
        return false;
      }
      else if(!regNickname.test(nickname.value)) {
        alert("닉네임을 다시입력해주세요.");
        return false;
      }
      else if(!regName.test(document.getElementById("name").value)) {
        alert("이름을 다시입력해주세요.");
        return false;
      }
      if(!regEmail.test(email.value)) {
        alert("이메일을 다시입력해주세요.");
        return false;
      }
      if(!regHomepage.test(homepage.value)) {
        alert("홈페이지를 다시입력해주세요.");
        return false;
      }
      else if(!regTel.test(tel.value)) {
        alert("전화번호를 다시입력해주세요.");
        return false;
      }
      else {
        demo.innerHTML = '회원가입에 성공했습니다!';
        return false;
      }
    }
  </script>
</head>
<body>
  <p><br/></p>
  <div class="container">
    <h3>정규식 유효성 검사 연습.</h3>
    <h3 class="mb-3">회원가입</h3>
    <form name="myform" method="post">
      <div class="input-group mb-3">
        <div class="input-group-text">아이디</div>
        <input type="text" id="mid" value="hkd1234" autofocus required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">비밀번호</div>
        <input type="password" id="pwd" value="1234!" required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">비밀번호 확인</div>
        <input type="password" id="rePwd" value="1234!" required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">닉네임</div>
        <input type="text" id="nickname" value="홍장군" required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">이름</div>
        <input type="text" id="name" value="홍길동" required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">이메일</div>
        <input type="email" id="email" value="hkd1234@naver.com" required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">홈페이지</div>
        <input type="url" id="homepage" value="blog.naver.com/hkd1234" required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">전화번호</div>
        <input type="tel" id="tel" value="010-1234-5678" required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">주민번호</div>
        <input type="text" id="jumin" value="123456-1234567" required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">생일</div>
        <input type="date" id="birthday" value="2000-01-01" required class="form-control" />
      </div>
      <div class="input-group mb-3">
        <div class="input-group-text">자기소개서</div>
        <textarea rows="4" id="content" required class="form-control" ></textarea>
      </div>
      <div class="row">
        <div class="col"></div>
        <div class="col"><input type="button" value="회원가입" onclick="fCheck()" class="btn btn-success" /></div>
        <div class="col"><input type="reset" value="다시입력" class="btn btn-warning" /></div>
        <div class="col"></div>
      </div>
    </form>
    <hr/>
    <div id="demo"></div>
  </div>
  
  <script>
  </script>
</body>
</html>